<html>
<div dir="rtl">
پیش‌نیازها <br>
مطالعه نوت‌بوک DSU <br>
</div>

<br>
<h1 dir = "rtl">آرایه جادویی</h1>
<br><br>
<p dir = "rtl">
به شما آرایه ای n عضوی از اعداد نامنفی داده شده است که به دلیل ناشناحته ای اعداد
  آن یکی یکی دارند از بین میروند.
  ترتیب از بین رفتن آنها به صورت یک جایگشت از اعداد 1 تا n است.
<br>
  پس از اینکه هر عضو از بین میرود شما باید ماکسیمم جمع بلوکی از آنهایی که باقی مانده اند
  را طوری بیابید که در این بلوک هیچ کدام از بین نرفته باشند.
<br><br>
شما باید تابع ای به اسم solve را که n ، آرایه ی اولیه به صورت لیست و جایگشت از بین رفتن
  ها را میگیرد را پر بکنید.
<br>
  این تابع باید لیستی برگرداند که عضو <strong>i</strong>
  ام آن جواب مسئله پس از i مین گام هست.
<br>


  $$ n \le 10^5 $$
  $$ numbers_i \le 10^9 $$
  </p>

<br>

<h3 dir="rtl">مثال</h3>


<h4 dir="rtl">مثال 1</h4>
```
n = 4
numbers = [1,3,2,5]
perm = [3,4,1,2]
output = [5,4,3,0]
```
<h4 dir="rtl">مثال 2</h4>
```
n = 5
numbers = [1,2,3,4,5]
perm = [4,2,3,5,1]
output = [6,5,5,1,0]

```
<br><br><br><br><br>


<div class="hint" dir="rtl">
  سعی کنید برعکس فکر کنید.
</div>

<div class="hint" dir="rtl">
  اگر از آخر به مسئله نگاه کنیم، بجای از بین رفتن اعضا دارند دونه دونه توی آرایه قرار میگیرند.
</div>

<div class="hint" dir="rtl">
  وقتی یک عدد ظاعر میشود، باید دو طرفش را چک کنیم که ظاهر شده اند یا نه.
  و اگر ظاهر شده بودند عدد آن افزایش پیدا میکند.
</div>

<div class="hint" dir="rtl">
  بلوک ها تعدادی مجموعه ی مجزا اند. که یا تمام اعضای آن ظاهر شده اند یا نه.
</div>

<div class="hint" dir="rtl">
  یک DSU برای اعداد بین 1 تا n در نظر بگیرید. وقتی عددی ظاهر میشود،
  باید مجموعه ی متناظر با اندیسش را ظاهر شده در نظر بگیرید. و 2 طرفش را چک میکنیم.
  هر کدام ظاهر شده بودند، با آن باید اجتماع بگیریم و مقدار جمع بلوک جدید را آپدیت کنیم.
</div>

<div class="hint" dir="rtl">
  یک متغیر ans تعریف کنید و از آخر هر وقت به عقب برمیگردید، اگر حاصل جمع مجموعه ی جدیدی
  که بوجود میاید از این بیشتر بود، باید برابر آن قرار گیرد.
</div>


</html>
